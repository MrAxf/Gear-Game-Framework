{"version":3,"sources":["node_modules/browser-pack/_prelude.js","GGF.min.js","src/core/Animation.js","src/core/Entity.js","src/core/Game.js","src/core/Spritesheet.js","src/core/Stage.js","src/index.js","src/utils/HitBox.js","src/utils/Vector2D.js"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","ggf","e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","_set","set","object","property","receiver","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","setter","Animation","_PIXI$Sprite","frames","ticks","this","_this","currentFrame","toString","currentTick","next","arrayNext","tickCounter","numberNext","PIXI","Sprite",2,"Entity","game","stage","_Object$getPrototypeO","_len","arguments","args","Array","_key","apply","concat","graphics","Graphics","x","y","addChild",3,"_interopRequireDefault","obj","__esModule","default","_Stage","_Stage2","_Entity","_Entity2","Game","idContainer","width","height","options","stages","entities","fps","tps","initStage","loadStage","currStage","renderer","autoDetectRenderer","backgroundColor","then","Date","now","frameInterval","loop","simpleLoop","delta","ticksInterval","lag","fpsUnlimitedLoop","thenAux","fpsLockedLoop","document","getElementById","appendChild","view","frame","bind","update","render","init","name","prop","entity","Function","./Entity","./Stage",4,"Spritesheet","image","rows","cols","texture","Texture","fromImage","spriteWidth","spriteHeight","sprites","j","Rectangle","row","col",5,"Stage","Container",6,"_Game","_Game2","_Spritesheet","_Spritesheet2","_Animation","_Animation2","_Vector2D","_Vector2D2","_HitBox","_HitBox2","Vector2D","HitBox","./core/Animation","./core/Entity","./core/Game","./core/Spritesheet","./core/Stage","./utils/HitBox","./utils/Vector2D",7,"position","rotation","vertexs","getVertexs","axes","getAxes","vertexInitial0","vertexInitial1","vertexInitial2","vertexInitial3","rotate","vector","proyectionVector","min","projection","max","p","Projection","hitbox","axis","projection1","projection2","overlap","equals","moveVertexs","./Vector2D",8,"x2","y2","Math","sqrt","pow","proyectionVectorMagnitude","magnitude","angle","originPoint","newX","cos","sin","newY"],"mappings":"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","file":"GGF.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","window.requestAnimFrame = (function(){\n  return  window.requestAnimationFrame   ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame;\n})();\nwindow.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\nvar ggf;\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _set = function set(object, property, value, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent !== null) { set(parent, property, value, receiver); } } else if (\"value\" in desc && desc.writable) { desc.value = value; } else { var setter = desc.set; if (setter !== undefined) { setter.call(receiver, value); } } return value; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*jshint esnext: true */\n\nvar Animation = (function (_PIXI$Sprite) {\n  _inherits(Animation, _PIXI$Sprite);\n\n  function Animation(frames, ticks) {\n    _classCallCheck(this, Animation);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Animation).call(this, frames[0]));\n\n    _this.frames = frames;\n    _this.ticks = ticks;\n    return _this;\n  }\n\n  _createClass(Animation, [{\n    key: 'init',\n    value: function init() {\n      this.currentFrame = 0;\n      if (Object.prototype.toString.call(this.ticks) === '[object Array]') {\n        this.currentTick = 0;\n        this.next = this.arrayNext;\n        this.tickCounter = this.ticks[0];\n      } else {\n        this.next = this.numberNext;\n        this.tickCounter = this.ticks;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.tickCounter--;\n      if (this.tickCounter === 0) this.next();\n    }\n  }, {\n    key: 'arrayNext',\n    value: function arrayNext() {\n      this.currentFrame++;\n      this.currentTick++;\n      if (this.currentFrame >= this.frames.length) {\n        this.currentFrame = 0;\n      }\n      if (this.currentTick >= this.ticks.length) this.currentTick = 0;\n      _set(Object.getPrototypeOf(Animation.prototype), 'texture', this.frames[this.currentFrame], this);\n      this.tickCounter = this.ticks[this.currentTick];\n    }\n  }, {\n    key: 'numberNext',\n    value: function numberNext() {\n      this.currentFrame++;\n      if (this.currentFrame >= this.frames.length) {\n        this.currentFrame = 0;\n      }\n      _set(Object.getPrototypeOf(Animation.prototype), 'texture', this.frames[this.currentFrame], this);\n      this.tickCounter = this.ticks;\n    }\n  }]);\n\n  return Animation;\n})(PIXI.Sprite);\n\nmodule.exports = Animation;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*jshint esnext: true */\n\nvar Entity = (function (_PIXI$Sprite) {\n  _inherits(Entity, _PIXI$Sprite);\n\n  function Entity(game, stage) {\n    var _Object$getPrototypeO;\n\n    _classCallCheck(this, Entity);\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Entity)).call.apply(_Object$getPrototypeO, [this].concat(args)));\n\n    _this.game = game;\n    _this.stage = stage;\n    _this.graphics = new PIXI.Graphics();\n    return _this;\n  }\n\n  _createClass(Entity, [{\n    key: \"spawn\",\n    value: function spawn(x, y) {\n      this.x = x;\n      this.y = y;\n      this.stage.graphics.addChild(this);\n    }\n  }]);\n\n  return Entity;\n})(PIXI.Sprite);\n\nmodule.exports = Entity;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })(); /*jshint esnext: true */\n\nvar _Stage = require('./Stage');\n\nvar _Stage2 = _interopRequireDefault(_Stage);\n\nvar _Entity = require('./Entity');\n\nvar _Entity2 = _interopRequireDefault(_Entity);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Game = (function () {\n  function Game(idContainer, width, height) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Game);\n\n    this.idContainer = idContainer;\n    this.width = width;\n    this.height = height;\n\n    this.stages = {};\n    this.entities = {};\n\n    if (options.fps) this.fps = options.fps;else this.fps = -1;\n\n    if (options.tps) this.tps = options.tps;else this.tps = 60;\n\n    if (options.initStage) this.loadStage(options.initStage);else this.currStage = new _Stage2.default();\n\n    this.renderer = PIXI.autoDetectRenderer(this.width, this.height, { backgroundColor: 0x6e6e6e });\n\n    this.then = Date.now();\n\n    switch (this.fps) {\n\n      case this.tps:\n        this.frameInterval = 1000 / this.fps;\n        this.loop = this.simpleLoop;\n        this.delta = 0;\n        break;\n\n      case -1:\n        this.ticksInterval = 1000 / this.tps;\n        this.lag = 0;\n        this.loop = this.fpsUnlimitedLoop;\n        break;\n\n      default:\n        this.frameInterval = 1000 / this.fps;\n        this.ticksInterval = 1000 / this.tps;\n        this.thenAux = Date.now();\n        this.delta = 0;\n        this.lag = 0;\n        this.loop = this.fpsLockedLoop;\n        break;\n    }\n\n    document.getElementById(this.idContainer).appendChild(this.renderer.view);\n  }\n\n  _createClass(Game, [{\n    key: 'simpleLoop',\n    value: function simpleLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.delta = now - this.then;\n      if (this.delta > this.frameInterval) {\n        this.update();\n        //updateInputs();\n        this.render();\n        this.then = now - this.delta % this.frameInterval;\n      }\n    }\n  }, {\n    key: 'fpsUnlimitedLoop',\n    value: function fpsUnlimitedLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.lag += now - this.then;\n      this.then = now;\n      while (this.ticksInterval < this.lag) {\n        this.update();\n        //updateInputs();\n        this.lag -= this.ticksInterval;\n      }\n      this.render();\n    }\n  }, {\n    key: 'fpsLockedLoop',\n    value: function fpsLockedLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.lag += now - this.then;\n      this.delta = now - this.thenAux;\n      this.then = now;\n      while (this.ticksInterval < this.lag) {\n        this.update();\n        //updateInputs();\n        this.lag -= this.ticksInterval;\n      }\n      if (this.delta > this.frameInterval) {\n        this.render();\n        this.thenAux = now - this.delta % this.frameInterval;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.currStage.update();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.renderer.render(this.currStage.graphics);\n    }\n  }, {\n    key: 'loadStage',\n    value: function loadStage(stage) {\n      this.currStage = stage;\n      this.currStage.init();\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      this.loop();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      window.cancelAnimationFrame(this.frame);\n    }\n  }, {\n    key: 'createStage',\n    value: function createStage(name, prop) {\n      this.stages[name] = prop;\n    }\n  }, {\n    key: 'createEntity',\n    value: function createEntity(name, prop) {\n      this.entities[name] = prop;\n    }\n  }, {\n    key: 'getStage',\n    value: function getStage(name) {\n      var stage = new _Stage2.default(this);\n      var prop = this.stages[name];\n      for (var key in prop) {\n        stage[key] = prop[key];\n      }\n      return stage;\n    }\n  }, {\n    key: 'loadEntity',\n    value: function loadEntity(name, stage) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      var entity = new (Function.prototype.bind.apply(_Entity2.default, [null].concat([this, stage], args)))();\n      var prop = this.entities[name];\n      for (var key in prop) {\n        entity[key] = prop[key];\n      }\n      return entity;\n    }\n  }]);\n\n  return Game;\n})();\n\nmodule.exports = Game;\n\n},{\"./Entity\":2,\"./Stage\":5}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*jshint esnext: true */\n\nvar Spritesheet = (function () {\n  function Spritesheet(image, width, height, rows, cols) {\n    _classCallCheck(this, Spritesheet);\n\n    this.game = game;\n    this.texture = new PIXI.Texture.fromImage(image);\n    this.width = width;\n    this.height = height;\n    this.rows = rows;\n    this.cols = cols;\n    this.spriteWidth = this.width / cols;\n    this.spriteHeight = this.height / rows;\n    this.sprites = new Array(this.rows);\n    for (var i = 0; i < this.rows; i++) {\n      this.sprites[i] = new Array(this.cols);\n      for (var j = 0; j < this.cols; j++) {\n        this.sprites[i][j] = new PIXI.Texture(this.texture, new PIXI.Rectangle(j * this.spriteWidth, i * this.spriteHeight, this.spriteWidth, this.spriteHeight));\n      }\n    }\n  }\n\n  _createClass(Spritesheet, [{\n    key: \"getSprite\",\n    value: function getSprite(row, col) {\n      if (row < 0 || col < 0 || row >= this.rows || col >= this.cols) return false;\n      return this.sprites[row][col];\n    }\n  }, {\n    key: \"getRow\",\n    value: function getRow(row) {\n      if (row < 0 || row >= this.rows) return false;\n      return this.sprites[row];\n    }\n  }]);\n\n  return Spritesheet;\n})();\n\nmodule.exports = Spritesheet;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*jshint esnext: true */\n\nvar Stage = function Stage(game) {\n  _classCallCheck(this, Stage);\n\n  this.game = game;\n  this.graphics = new PIXI.Container();\n};\n\nmodule.exports = Stage;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar _Game = require('./core/Game');\n\nvar _Game2 = _interopRequireDefault(_Game);\n\nvar _Stage = require('./core/Stage');\n\nvar _Stage2 = _interopRequireDefault(_Stage);\n\nvar _Entity = require('./core/Entity');\n\nvar _Entity2 = _interopRequireDefault(_Entity);\n\nvar _Spritesheet = require('./core/Spritesheet');\n\nvar _Spritesheet2 = _interopRequireDefault(_Spritesheet);\n\nvar _Animation = require('./core/Animation');\n\nvar _Animation2 = _interopRequireDefault(_Animation);\n\nvar _Vector2D = require('./utils/Vector2D');\n\nvar _Vector2D2 = _interopRequireDefault(_Vector2D);\n\nvar _HitBox = require('./utils/HitBox');\n\nvar _HitBox2 = _interopRequireDefault(_HitBox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nggf = {}; /*jshint esnext: true */\n\nggf.Game = _Game2.default;\nggf.Stage = _Stage2.default;\nggf.Entity = _Entity2.default;\nggf.Spritesheet = _Spritesheet2.default;\nggf.Animation = _Animation2.default;\nggf.Vector2D = _Vector2D2.default;\nggf.HitBox = _HitBox2.default;\n\n},{\"./core/Animation\":1,\"./core/Entity\":2,\"./core/Game\":3,\"./core/Spritesheet\":4,\"./core/Stage\":5,\"./utils/HitBox\":7,\"./utils/Vector2D\":8}],7:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })(); /*jshint esnext: true */\n\nvar _Vector2D = require('./Vector2D');\n\nvar _Vector2D2 = _interopRequireDefault(_Vector2D);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HitBox = (function () {\n  function HitBox(width, height, position, rotation) {\n    _classCallCheck(this, HitBox);\n\n    this.width = width;\n    this.height = height;\n    this.position = new _Vector2D2.default(position.x, position.y);\n    this.rotation = rotation;\n    this.vertexs = this.getVertexs();\n    this.axes = this.getAxes();\n  }\n\n  _createClass(HitBox, [{\n    key: 'getVertexs',\n    value: function getVertexs() {\n      var vertexInitial0 = new _Vector2D2.default(this.position.x - this.width / 2, this.position.y - this.height / 2);\n      var vertexInitial1 = new _Vector2D2.default(vertexInitial0.x + this.width, vertexInitial0.y);\n      var vertexInitial2 = new _Vector2D2.default(vertexInitial0.x + this.width, vertexInitial0.y + this.height);\n      var vertexInitial3 = new _Vector2D2.default(vertexInitial0.x, vertexInitial0.y + this.height);\n      var vertexs = new Array(4);\n      vertexs[0] = vertexInitial0.rotate(this.rotation, this.position);\n      vertexs[1] = vertexInitial1.rotate(this.rotation, this.position);\n      vertexs[2] = vertexInitial2.rotate(this.rotation, this.position);\n      vertexs[3] = vertexInitial3.rotate(this.rotation, this.position);\n      return vertexs;\n    }\n  }, {\n    key: 'getAxes',\n    value: function getAxes() {\n      var axes = new Array(2);\n      axes[0] = new _Vector2D2.default(this.vertexs[1].x, this.vertexs[1].y, this.vertexs[0].x, this.vertexs[0].y);\n      axes[1] = new _Vector2D2.default(this.vertexs[2].x, this.vertexs[2].y, this.vertexs[1].x, this.vertexs[1].y);\n      return axes;\n    }\n  }, {\n    key: 'moveVertexs',\n    value: function moveVertexs(vector) {\n      this.vertexs[0].x += vector.x;\n      this.vertexs[0].y += vector.y;\n      this.vertexs[1].x += vector.x;\n      this.vertexs[1].y += vector.y;\n      this.vertexs[2].x += vector.x;\n      this.vertexs[2].y += vector.y;\n      this.vertexs[3].x += vector.x;\n      this.vertexs[3].y += vector.y;\n    }\n  }, {\n    key: 'projection',\n    value: function projection(proyectionVector) {\n      var min = this.vertexs[0].projection(proyectionVector);\n      var max = min;\n      for (var i = 1; i < this.vertexs.length; i++) {\n        var p = this.vertexs[i].projection(proyectionVector);\n        if (p < min) min = p;else if (p > max) max = p;\n      }\n      return new Projection(min, max);\n    }\n  }, {\n    key: 'overlap',\n    value: function overlap(hitbox) {\n      for (var i = 0; i < this.axes.length; i++) {\n        var axis = this.axes[i];\n        var projection1 = this.projection(axis);\n        var projection2 = hitbox.projection(axis);\n        if (!projection1.overlap(projection2)) return false;\n      }\n\n      for (var i = 0; i < hitbox.axes.length; i++) {\n        var axis = hitbox.axes[i];\n        var projection1 = this.projection(axis);\n        var projection2 = hitbox.projection(axis);\n        if (!projection1.overlap(projection2)) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'update',\n    value: function update(position, rotation) {\n      position = new _Vector2D2.default(position.x, position.y);\n      if (rotation != this.rotation) {\n        this.rotation = rotation;\n        this.position = position;\n        this.vertexs = this.getVertexs();\n        this.axes = this.getAxes();\n      } else if (!position.equals(this.position)) {\n        this.moveVertexs(new _Vector2D2.default(position.x, position.y, this.position.x, this.position.y));\n        this.position = position;\n      }\n    }\n  }]);\n\n  return HitBox;\n})();\n\nvar Projection = (function () {\n  function Projection(min, max) {\n    _classCallCheck(this, Projection);\n\n    this.min = min;\n    this.max = max;\n  }\n\n  _createClass(Projection, [{\n    key: 'overlap',\n    value: function overlap(projection) {\n      return this.max > projection.min && projection.max > this.min;\n    }\n  }]);\n\n  return Projection;\n})();\n\nmodule.exports = HitBox;\n\n},{\"./Vector2D\":8}],8:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*jshint esnext: true */\n\nvar Vector2D = (function () {\n  function Vector2D(x, y) {\n    var x2 = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n    var y2 = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];\n\n    _classCallCheck(this, Vector2D);\n\n    this.x = x - x2;\n    this.y = y - y2;\n  }\n\n  _createClass(Vector2D, [{\n    key: \"normal\",\n    value: function normal() {\n      return new Vector2D(-this.y, this.x);\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude() {\n      return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n  }, {\n    key: \"projection\",\n    value: function projection(proyectionVector) {\n      var proyectionVectorMagnitude = proyectionVector.magnitude();\n      return this.x * (proyectionVector.x / proyectionVectorMagnitude) + this.y * (proyectionVector.y / proyectionVectorMagnitude);\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(angle) {\n      var originPoint = arguments.length <= 1 || arguments[1] === undefined ? new Vector2D(0, 0) : arguments[1];\n\n      var newX = (this.x - originPoint.x) * Math.cos(angle) - (this.y - originPoint.y) * Math.sin(angle) + originPoint.x;\n      var newY = (this.x - originPoint.x) * Math.sin(angle) + (this.y - originPoint.y) * Math.cos(angle) + originPoint.y;\n      return new Vector2D(newX, newY);\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(vector) {\n      if (this.x == vector.x && this.y == vector.y) return true;\n      return false;\n    }\n  }]);\n\n  return Vector2D;\n})();\n\nmodule.exports = Vector2D;\n\n},{}]},{},[6])\n\n","/*jshint esnext: true */\r\n\r\nclass Animation extends PIXI.Sprite{\r\n  constructor(frames, ticks){\r\n    super(frames[0]);\r\n    this.frames = frames;\r\n    this.ticks = ticks;\r\n  }\r\n\r\n  init(){\r\n    this.currentFrame = 0;\r\n    if(Object.prototype.toString.call(this.ticks) === '[object Array]' ){\r\n      this.currentTick = 0;\r\n      this.next = this.arrayNext;\r\n      this.tickCounter = this.ticks[0];\r\n    }else{\r\n      this.next = this.numberNext;\r\n      this.tickCounter = this.ticks;\r\n    }\r\n  }\r\n\r\n  update(){\r\n    this.tickCounter--;\r\n    if(this.tickCounter === 0) this.next();\r\n  }\r\n\r\n  arrayNext(){\r\n    this.currentFrame++;\r\n    this.currentTick++;\r\n    if(this.currentFrame >= this.frames.length){\r\n      this.currentFrame = 0;\r\n    }\r\n    if(this.currentTick >= this.ticks.length) this.currentTick = 0;\r\n    super.texture = this.frames[this.currentFrame];\r\n    this.tickCounter = this.ticks[this.currentTick];\r\n  }\r\n\r\n  numberNext(){\r\n    this.currentFrame++;\r\n    if(this.currentFrame >= this.frames.length){\r\n      this.currentFrame = 0;\r\n    }\r\n    super.texture = this.frames[this.currentFrame];\r\n    this.tickCounter = this.ticks;\r\n  }\r\n}\r\n\r\nmodule.exports = Animation;\r\n","/*jshint esnext: true */\r\n\r\nclass Entity extends PIXI.Sprite{\r\n  constructor(game, stage, ...args){\r\n    super(...args);\r\n    this.game = game;\r\n    this.stage = stage;\r\n    this.graphics = new PIXI.Graphics();\r\n  }\r\n  spawn(x, y){\r\n    this.x=x;\r\n    this.y=y;\r\n    this.stage.graphics.addChild(this);\r\n  }\r\n}\r\n\r\nmodule.exports = Entity;\r\n","/*jshint esnext: true */\r\nimport Stage from './Stage';\r\nimport Entity from './Entity';\r\n\r\nclass Game{\r\n  constructor(idContainer, width, height, options = {}){\r\n\r\n    this.idContainer = idContainer;\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    this.stages = {};\r\n    this.entities = {};\r\n\r\n    if(options.fps) this.fps = options.fps;\r\n    else this.fps = -1;\r\n\r\n    if(options.tps) this.tps = options.tps;\r\n    else this.tps = 60;\r\n\r\n    if(options.initStage)  this.loadStage(options.initStage);\r\n    else this.currStage = new Stage();\r\n\r\n    this.renderer = PIXI.autoDetectRenderer(this.width, this.height, {backgroundColor : 0x6e6e6e});\r\n\r\n    this.then = Date.now();\r\n\r\n    switch (this.fps) {\r\n\r\n      case this.tps:\r\n        this.frameInterval = 1000/this.fps;\r\n  \t\t\tthis.loop = this.simpleLoop;\r\n        this.delta = 0;\r\n  \t\t\tbreak;\r\n\r\n      case -1:\r\n        this.ticksInterval = 1000/this.tps;\r\n        this.lag = 0;\r\n  \t\t\tthis.loop = this.fpsUnlimitedLoop;\r\n  \t\t  break;\r\n\r\n      default:\r\n        this.frameInterval = 1000/this.fps;\r\n        this.ticksInterval = 1000/this.tps;\r\n        this.thenAux = Date.now();\r\n        this.delta = 0;\r\n        this.lag = 0;\r\n  \t\t\tthis.loop = this.fpsLockedLoop;\r\n        break;\r\n  \t}\r\n\r\n    document.getElementById(this.idContainer).appendChild(this.renderer.view);\r\n  }\r\n\r\n  simpleLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.delta = now - this.then;\r\n  \tif (this.delta > this.frameInterval) {\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.render();\r\n  \t\tthis.then = now - (this.delta % this.frameInterval);\r\n  \t}\r\n  }\r\n\r\n  fpsUnlimitedLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.lag += now - this.then;\r\n  \tthis.then = now;\r\n  \twhile(this.ticksInterval < this.lag){\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.lag -= this.ticksInterval;\r\n  \t}\r\n  \tthis.render();\r\n  }\r\n\r\n  fpsLockedLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.lag += now - this.then;\r\n  \tthis.delta = now - this.thenAux;\r\n  \tthis.then = now;\r\n  \twhile(this.ticksInterval < this.lag){\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.lag -= this.ticksInterval;\r\n  \t}\r\n  \tif (this.delta > this.frameInterval) {\r\n  \t\tthis.render();\r\n  \t\tthis.thenAux = now - (this.delta % this.frameInterval);\r\n  \t}\r\n  }\r\n\r\n  update(){\r\n    this.currStage.update();\r\n  }\r\n\r\n  render(){\r\n    this.renderer.render(this.currStage.graphics);\r\n  }\r\n\r\n  loadStage(stage){\r\n    this.currStage = stage;\r\n    this.currStage.init();\r\n  }\r\n\r\n  start(){\r\n    this.loop();\r\n  }\r\n\r\n  stop(){\r\n    window.cancelAnimationFrame(this.frame);\r\n  }\r\n\r\n  createStage(name, prop){\r\n    this.stages[name] = prop;\r\n  }\r\n\r\n  createEntity(name, prop){\r\n    this.entities[name] = prop;\r\n  }\r\n\r\n  getStage(name){\r\n    let stage = new Stage(this);\r\n    let prop = this.stages[name];\r\n    for(let key in prop){\r\n      stage[key] = prop[key];\r\n    }\r\n    return stage;\r\n  }\r\n\r\n  loadEntity(name, stage, ...args){\r\n    let entity = new Entity(this, stage, ...args);\r\n    let prop = this.entities[name];\r\n    for(let key in prop){\r\n      entity[key] = prop[key];\r\n    }\r\n    return entity;\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = Game;\r\n","/*jshint esnext: true */\r\n\r\nclass Spritesheet{\r\n  constructor(image, width, height, rows, cols){\r\n    this.game = game;\r\n    this.texture = new PIXI.Texture.fromImage(image);\r\n    this.width = width;\r\n    this.height = height;\r\n    this.rows = rows;\r\n    this.cols = cols;\r\n    this.spriteWidth = this.width/cols;\r\n    this.spriteHeight = this.height/rows;\r\n    this.sprites = new Array(this.rows);\r\n    for(let i = 0; i < this.rows; i++){\r\n      this.sprites[i] = new Array(this.cols);\r\n      for(let j = 0; j < this.cols; j++){\r\n        this.sprites[i][j] = new PIXI.Texture(this.texture, new PIXI.Rectangle(j*this.spriteWidth, i*this.spriteHeight, this.spriteWidth, this.spriteHeight));\r\n      }\r\n    }\r\n  }\r\n  getSprite(row, col){\r\n    if(row < 0 || col < 0 || row >= this.rows || col >= this.cols) return false;\r\n    return this.sprites[row][col];\r\n  }\r\n  getRow(row){\r\n    if(row < 0 || row >= this.rows) return false;\r\n    return this.sprites[row];\r\n  }\r\n}\r\n\r\nmodule.exports = Spritesheet;\r\n","/*jshint esnext: true */\r\n\r\nclass Stage{\r\n  constructor(game){\r\n    this.game = game;\r\n    this.graphics = new PIXI.Container();\r\n  }\r\n}\r\n\r\nmodule.exports = Stage;\r\n","/*jshint esnext: true */\r\n\r\nimport Game from './core/Game';\r\nimport Stage from './core/Stage';\r\nimport Entity from './core/Entity';\r\nimport Spritesheet from './core/Spritesheet';\r\nimport Animation from './core/Animation';\r\nimport Vector2D from './utils/Vector2D';\r\nimport HitBox from './utils/HitBox';\r\n\r\nggf = {};\r\nggf.Game = Game;\r\nggf.Stage = Stage;\r\nggf.Entity = Entity;\r\nggf.Spritesheet = Spritesheet;\r\nggf.Animation = Animation;\r\nggf.Vector2D = Vector2D;\r\nggf.HitBox = HitBox;\r\n","/*jshint esnext: true */\r\nimport Vector2D from './Vector2D';\r\n\r\nclass HitBox{\r\n  constructor(width, height, position, rotation){\r\n    this.width = width;\r\n    this.height = height;\r\n    this.position = new Vector2D(position.x, position.y);\r\n    this.rotation = rotation;\r\n    this.vertexs = this.getVertexs();\r\n    this.axes = this.getAxes();\r\n  }\r\n  getVertexs(){\r\n    let vertexInitial0 = new Vector2D(this.position.x - this.width/2, this.position.y - this.height/2);\r\n    let vertexInitial1 = new Vector2D(vertexInitial0.x + this.width, vertexInitial0.y);\r\n    let vertexInitial2 = new Vector2D(vertexInitial0.x + this.width, vertexInitial0.y + this.height);\r\n    let vertexInitial3 = new Vector2D(vertexInitial0.x, vertexInitial0.y + this.height);\r\n    let vertexs = new Array(4);\r\n    vertexs[0] = vertexInitial0.rotate(this.rotation, this.position);\r\n    vertexs[1] = vertexInitial1.rotate(this.rotation, this.position);\r\n    vertexs[2] = vertexInitial2.rotate(this.rotation, this.position);\r\n    vertexs[3] = vertexInitial3.rotate(this.rotation, this.position);\r\n    return vertexs;\r\n  }\r\n  getAxes(){\r\n    let axes = new Array(2);\r\n    axes[0] = new Vector2D(this.vertexs[1].x, this.vertexs[1].y, this.vertexs[0].x, this.vertexs[0].y);\r\n    axes[1] = new Vector2D(this.vertexs[2].x, this.vertexs[2].y, this.vertexs[1].x, this.vertexs[1].y);\r\n    return axes;\r\n  }\r\n  moveVertexs(vector){\r\n    this.vertexs[0].x += vector.x;\r\n    this.vertexs[0].y += vector.y;\r\n    this.vertexs[1].x += vector.x;\r\n    this.vertexs[1].y += vector.y;\r\n    this.vertexs[2].x += vector.x;\r\n    this.vertexs[2].y += vector.y;\r\n    this.vertexs[3].x += vector.x;\r\n    this.vertexs[3].y += vector.y;\r\n  }\r\n  projection(proyectionVector){\r\n    let min = this.vertexs[0].projection(proyectionVector);\r\n    let max = min;\r\n    for (let i = 1; i < this.vertexs.length; i++) {\r\n      let p = this.vertexs[i].projection(proyectionVector);\r\n      if (p < min) min = p;\r\n      else if (p > max) max = p;\r\n    }\r\n    return new Projection(min, max);\r\n  }\r\n  overlap(hitbox){\r\n    for (let i = 0; i < this.axes.length; i++) {\r\n      let axis = this.axes[i];\r\n      let projection1 = this.projection(axis);\r\n      let projection2 = hitbox.projection(axis);\r\n      if (!projection1.overlap(projection2)) return false;\r\n    }\r\n\r\n    for (let i = 0; i < hitbox.axes.length; i++) {\r\n      let axis = hitbox.axes[i];\r\n      let projection1 = this.projection(axis);\r\n      let projection2 = hitbox.projection(axis);\r\n      if (!projection1.overlap(projection2)) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  update(position, rotation){\r\n    position = new Vector2D(position.x, position.y);\r\n    if(rotation != this.rotation){\r\n      this.rotation = rotation;\r\n      this.position = position;\r\n      this.vertexs = this.getVertexs();\r\n      this.axes = this.getAxes();\r\n    }else if(!position.equals(this.position)){\r\n      this.moveVertexs(new Vector2D(position.x, position.y, this.position.x, this.position.y));\r\n      this.position = position;\r\n    }\r\n  }\r\n}\r\n\r\nclass Projection{\r\n  constructor(min, max){\r\n    this.min = min;\r\n    this.max = max;\r\n  }\r\n  overlap(projection){\r\n    return this.max > projection.min && projection.max > this.min;\r\n  }\r\n}\r\n\r\nmodule.exports = HitBox;\r\n","/*jshint esnext: true */\r\n\r\nclass Vector2D{\r\n  constructor(x, y, x2 = 0, y2 = 0){\r\n    this.x = x - x2;\r\n    this.y = y - y2;\r\n  }\r\n  normal(){\r\n    return new Vector2D(-this.y, this.x);\r\n  }\r\n  magnitude(){\r\n    return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\r\n  }\r\n  projection(proyectionVector){\r\n    let proyectionVectorMagnitude = proyectionVector.magnitude();\r\n    return (this.x * (proyectionVector.x/proyectionVectorMagnitude)) + (this.y * (proyectionVector.y/proyectionVectorMagnitude));\r\n  }\r\n  rotate(angle, originPoint = new Vector2D(0,0)){\r\n    let newX = ((this.x - originPoint.x)*Math.cos(angle)) - ((this.y - originPoint.y)*Math.sin(angle)) + originPoint.x;\r\n    let newY = ((this.x - originPoint.x)*Math.sin(angle)) + ((this.y - originPoint.y)*Math.cos(angle)) + originPoint.y;\r\n    return new Vector2D(newX, newY);\r\n  }\r\n  equals(vector){\r\n    if(this.x == vector.x && this.y == vector.y) return true;\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = Vector2D;\r\n"],"sourceRoot":"/source/"}