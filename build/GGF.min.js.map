{"version":3,"sources":["node_modules/browser-pack/_prelude.js","GGF.min.js","src/core/Entity.js","src/core/Game.js","src/core/Stage.js","src/index.js"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","ggf","e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","Entity","_PIXI$Sprite","game","init","update","this","_this","getPrototypeOf","name","PIXI","Sprite",2,"_interopRequireDefault","obj","__esModule","default","_Stage","_Stage2","_Entity","Game","idContainer","width","height","options","arguments","undefined","fps","tps","initStage","loadStage","currStage","renderer","autoDetectRenderer","backgroundColor","then","Date","now","frameInterval","loop","simpleLoop","delta","ticksInterval","lag","fpsUnlimitedLoop","thenAux","fpsLockedLoop","document","getElementById","appendChild","view","frame","bind","render","renderContainer","stage","./Entity","./Stage",3,"Stage","container","Container","stageUpdate",4,"_Game","_Game2","./core/Entity","./core/Game","./core/Stage"],"mappings":"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","file":"GGF.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","window.requestAnimFrame = (function(){\n  return  window.requestAnimationFrame   ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame;\n})();\nwindow.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\nvar ggf;\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*jshint esnext: true */\n\nvar Entity = (function (_PIXI$Sprite) {\n  _inherits(Entity, _PIXI$Sprite);\n\n  function Entity(game, init, update) {\n    _classCallCheck(this, Entity);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Entity).call(this));\n\n    _this.game = game;\n    _this.init = init();\n    _this.update = update();\n    _this.name = 'lol';\n    return _this;\n  }\n\n  _createClass(Entity, [{\n    key: 'init',\n    value: function init() {}\n  }, {\n    key: 'update',\n    value: function update() {}\n  }]);\n\n  return Entity;\n})(PIXI.Sprite);\n\nmodule.exports = Entity;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })(); /*jshint esnext: true */\n\nvar _Stage = require('./Stage');\n\nvar _Stage2 = _interopRequireDefault(_Stage);\n\nvar _Entity = require('./Entity');\n\nvar _Entity2 = _interopRequireDefault(_Entity);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Game = (function () {\n  function Game(idContainer, width, height) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Game);\n\n    this.idContainer = idContainer;\n    this.width = width;\n    this.height = height;\n\n    if (options.fps) this.fps = options.fps;else this.fps = -1;\n\n    if (options.tps) this.tps = options.tps;else this.tps = 60;\n\n    if (options.initStage) this.loadStage(options.initStage);else this.currStage = new _Stage2.default();\n\n    this.renderer = PIXI.autoDetectRenderer(this.width, this.height, { backgroundColor: 0x000000 });\n\n    this.then = Date.now();\n\n    switch (this.fps) {\n      case this.tps:\n        this.frameInterval = 1000 / this.fps;\n        this.loop = this.simpleLoop;\n        this.delta = 0;\n        break;\n      case -1:\n        this.ticksInterval = 1000 / this.tps;\n        this.lag = 0;\n        this.loop = this.fpsUnlimitedLoop;\n        break;\n      default:\n        this.frameInterval = 1000 / this.fps;\n        this.ticksInterval = 1000 / this.tps;\n        this.thenAux = Date.now();\n        this.delta = 0;\n        this.lag = 0;\n        this.loop = this.fpsLockedLoop;\n        break;\n    }\n\n    document.getElementById(this.idContainer).appendChild(this.renderer.view);\n  }\n\n  _createClass(Game, [{\n    key: 'simpleLoop',\n    value: function simpleLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.delta = now - this.then;\n      if (this.delta > this.frameInterval) {\n        this.update();\n        //updateInputs();\n        this.render();\n        this.then = now - this.delta % this.frameInterval;\n      }\n    }\n  }, {\n    key: 'fpsUnlimitedLoop',\n    value: function fpsUnlimitedLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.lag += now - this.then;\n      this.then = now;\n      while (this.ticksInterval < this.lag) {\n        this.update();\n        //updateInputs();\n        this.lag -= this.ticksInterval;\n      }\n      this.render();\n    }\n  }, {\n    key: 'fpsLockedLoop',\n    value: function fpsLockedLoop() {\n      this.frame = window.requestAnimationFrame(this.loop.bind(this));\n      var now = Date.now();\n      this.lag += now - this.then;\n      this.delta = now - this.thenAux;\n      this.then = now;\n      while (this.ticksInterval < this.lag) {\n        this.update();\n        //updateInputs();\n        this.lag -= this.ticksInterval;\n      }\n      if (this.delta > this.frameInterval) {\n        this.render();\n        this.thenAux = now - this.delta % this.frameInterval;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.currStage.update();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.renderer.render(this.currStage.renderContainer);\n    }\n  }, {\n    key: 'loadStage',\n    value: function loadStage(stage) {\n      this.currStage = stage;\n      this.currStage.init();\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      this.loop();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      window.cancelAnimationFrame(this.frame);\n    }\n  }]);\n\n  return Game;\n})();\n\nmodule.exports = Game;\n\n},{\"./Entity\":1,\"./Stage\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*jshint esnext: true */\n\nvar Stage = (function () {\n  function Stage(game, init, update) {\n    _classCallCheck(this, Stage);\n\n    this.game = game;\n    this.container.render();\n    this.renderContainer = new PIXI.Container();\n    this.init = init;\n    this.stageUpdate = update;\n  }\n\n  _createClass(Stage, [{\n    key: \"init\",\n    value: function init() {}\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.container.update();\n      this.stageUpdate();\n    }\n  }]);\n\n  return Stage;\n})();\n\nmodule.exports = Stage;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _Game = require('./core/Game');\n\nvar _Game2 = _interopRequireDefault(_Game);\n\nvar _Stage = require('./core/Stage');\n\nvar _Stage2 = _interopRequireDefault(_Stage);\n\nvar _Entity = require('./core/Entity');\n\nvar _Entity2 = _interopRequireDefault(_Entity);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nggf = {}; /*jshint esnext: true */\n\nggf.Game = _Game2.default;\nggf.Stage = _Stage2.default;\n\n},{\"./core/Entity\":1,\"./core/Game\":2,\"./core/Stage\":3}]},{},[4])\n\n","/*jshint esnext: true */\r\n\r\nclass Entity extends PIXI.Sprite{\r\n  constructor(game, init, update){\r\n    super();\r\n    this.game = game;\r\n    this.init = init();\r\n    this.update = update();\r\n    this.name = 'lol';\r\n  }\r\n  init(){\r\n\r\n  }\r\n  update(){\r\n\r\n  }\r\n}\r\n\r\nmodule.exports = Entity;\r\n","/*jshint esnext: true */\r\nimport Stage from './Stage';\r\nimport Entity from './Entity';\r\n\r\nclass Game{\r\n  constructor(idContainer, width, height, options = {}){\r\n\r\n    this.idContainer = idContainer;\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    if(options.fps) this.fps = options.fps;\r\n    else this.fps = -1;\r\n\r\n    if(options.tps) this.tps = options.tps;\r\n    else this.tps = 60;\r\n\r\n    if(options.initStage)  this.loadStage(options.initStage);\r\n    else this.currStage = new Stage();\r\n\r\n    this.renderer = PIXI.autoDetectRenderer(this.width, this.height, {backgroundColor : 0x000000});\r\n\r\n    this.then = Date.now();\r\n\r\n    switch (this.fps) {\r\n  \t\tcase this.tps:\r\n        this.frameInterval = 1000/this.fps;\r\n  \t\t\tthis.loop = this.simpleLoop;\r\n        this.delta = 0;\r\n  \t\t\tbreak;\r\n  \t\tcase -1:\r\n        this.ticksInterval = 1000/this.tps;\r\n        this.lag = 0;\r\n  \t\t\tthis.loop = this.fpsUnlimitedLoop;\r\n  \t\t  break;\r\n  \t\tdefault:\r\n        this.frameInterval = 1000/this.fps;\r\n        this.ticksInterval = 1000/this.tps;\r\n        this.thenAux = Date.now();\r\n        this.delta = 0;\r\n        this.lag = 0;\r\n  \t\t\tthis.loop = this.fpsLockedLoop;\r\n        break;\r\n  \t}\r\n\r\n    document.getElementById(this.idContainer).appendChild(this.renderer.view);\r\n  }\r\n\r\n  simpleLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.delta = now - this.then;\r\n  \tif (this.delta > this.frameInterval) {\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.render();\r\n  \t\tthis.then = now - (this.delta % this.frameInterval);\r\n  \t}\r\n  }\r\n\r\n  fpsUnlimitedLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.lag += now - this.then;\r\n  \tthis.then = now;\r\n  \twhile(this.ticksInterval < this.lag){\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.lag -= this.ticksInterval;\r\n  \t}\r\n  \tthis.render();\r\n  }\r\n\r\n  fpsLockedLoop(){\r\n  \tthis.frame = window.requestAnimationFrame(this.loop.bind(this));\r\n  \tlet now = Date.now();\r\n  \tthis.lag += now - this.then;\r\n  \tthis.delta = now - this.thenAux;\r\n  \tthis.then = now;\r\n  \twhile(this.ticksInterval < this.lag){\r\n  \t\tthis.update();\r\n  \t\t//updateInputs();\r\n  \t\tthis.lag -= this.ticksInterval;\r\n  \t}\r\n  \tif (this.delta > this.frameInterval) {\r\n  \t\tthis.render();\r\n  \t\tthis.thenAux = now - (this.delta % this.frameInterval);\r\n  \t}\r\n  }\r\n\r\n  update(){\r\n    this.currStage.update();\r\n  }\r\n\r\n  render(){\r\n    this.renderer.render(this.currStage.renderContainer);\r\n  }\r\n\r\n  loadStage(stage){\r\n    this.currStage = stage;\r\n    this.currStage.init();\r\n  }\r\n\r\n  start(){\r\n    this.loop();\r\n  }\r\n\r\n  stop(){\r\n    window.cancelAnimationFrame(this.frame);\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = Game;\r\n","/*jshint esnext: true */\r\n\r\nclass Stage{\r\n  constructor(game, init, update){\r\n    this.game = game;\r\n    this.container.render();\r\n    this.renderContainer = new PIXI.Container();\r\n    this.init = init;\r\n    this.stageUpdate = update;\r\n  }\r\n\r\n  init(){\r\n\r\n  }\r\n\r\n  update(){\r\n    this.container.update();\r\n    this.stageUpdate();\r\n  }\r\n}\r\n\r\nmodule.exports = Stage;\r\n","/*jshint esnext: true */\r\n\r\nimport Game from './core/Game';\r\nimport Stage from './core/Stage';\r\nimport Entity from './core/Entity';\r\n\r\nggf = {};\r\nggf.Game = Game;\r\nggf.Stage = Stage;\r\n"],"sourceRoot":"/source/"}