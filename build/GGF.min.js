window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}(),window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame;var ggf;!function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function u(t,e,i,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var s=Object.getPrototypeOf(t);null!==s&&u(s,e,i,n)}else if("value"in r&&r.writable)r.value=i;else{var o=r.set;void 0!==o&&o.call(n,i)}return i},h=function(t){function e(t,i){n(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,t[0]));return s.frames=t,s.ticks=i,s}return s(e,t),o(e,[{key:"init",value:function(){this.currentFrame=0,"[object Array]"===Object.prototype.toString.call(this.ticks)?(this.currentTick=0,this.next=this.arrayNext,this.tickCounter=this.ticks[0]):(this.next=this.numberNext,this.tickCounter=this.ticks)}},{key:"update",value:function(){this.tickCounter--,0===this.tickCounter&&this.next()}},{key:"arrayNext",value:function(){this.currentFrame++,this.currentTick++,this.currentFrame>=this.frames.length&&(this.currentFrame=0),this.currentTick>=this.ticks.length&&(this.currentTick=0),a(Object.getPrototypeOf(e.prototype),"texture",this.frames[this.currentFrame],this),this.tickCounter=this.ticks[this.currentTick]}},{key:"numberNext",value:function(){this.currentFrame++,this.currentFrame>=this.frames.length&&(this.currentFrame=0),a(Object.getPrototypeOf(e.prototype),"texture",this.frames[this.currentFrame],this),this.tickCounter=this.ticks}}]),e}(PIXI.Sprite);e.exports=h},{}],2:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){var s;n(this,e);for(var o=arguments.length,a=Array(o>2?o-2:0),h=2;o>h;h++)a[h-2]=arguments[h];var u=r(this,(s=Object.getPrototypeOf(e)).call.apply(s,[this].concat(a)));return u.game=t,u.stage=i,u.graphics=new PIXI.Graphics,u}return s(e,t),o(e,[{key:"spawn",value:function(t,e){this.x=t,this.y=e,this.stage.graphics.addChild(this)}}]),e}(PIXI.Sprite);e.exports=a},{}],3:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("./Stage"),a=n(o),h=t("./Entity"),u=n(h),c=function(){function t(e,i,n){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];switch(r(this,t),this.idContainer=e,this.width=i,this.height=n,this.stages={},this.entities={},s.fps?this.fps=s.fps:this.fps=-1,s.tps?this.tps=s.tps:this.tps=60,s.initStage?this.loadStage(s.initStage):this.currStage=new a["default"],this.renderer=PIXI.autoDetectRenderer(this.width,this.height,{backgroundColor:7237230}),this.then=Date.now(),this.fps){case this.tps:this.frameInterval=1e3/this.fps,this.loop=this.simpleLoop,this.delta=0;break;case-1:this.ticksInterval=1e3/this.tps,this.lag=0,this.loop=this.fpsUnlimitedLoop;break;default:this.frameInterval=1e3/this.fps,this.ticksInterval=1e3/this.tps,this.thenAux=Date.now(),this.delta=0,this.lag=0,this.loop=this.fpsLockedLoop}document.getElementById(this.idContainer).appendChild(this.renderer.view)}return s(t,[{key:"simpleLoop",value:function(){this.frame=window.requestAnimationFrame(this.loop.bind(this));var t=Date.now();this.delta=t-this.then,this.delta>this.frameInterval&&(this.update(),this.render(),this.then=t-this.delta%this.frameInterval)}},{key:"fpsUnlimitedLoop",value:function(){this.frame=window.requestAnimationFrame(this.loop.bind(this));var t=Date.now();for(this.lag+=t-this.then,this.then=t;this.ticksInterval<this.lag;)this.update(),this.lag-=this.ticksInterval;this.render()}},{key:"fpsLockedLoop",value:function(){this.frame=window.requestAnimationFrame(this.loop.bind(this));var t=Date.now();for(this.lag+=t-this.then,this.delta=t-this.thenAux,this.then=t;this.ticksInterval<this.lag;)this.update(),this.lag-=this.ticksInterval;this.delta>this.frameInterval&&(this.render(),this.thenAux=t-this.delta%this.frameInterval)}},{key:"update",value:function(){this.currStage.update()}},{key:"render",value:function(){this.renderer.render(this.currStage.graphics)}},{key:"loadStage",value:function(t){this.currStage=t,this.currStage.init()}},{key:"start",value:function(){this.loop()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"createStage",value:function(t,e){this.stages[t]=e}},{key:"createEntity",value:function(t,e){this.entities[t]=e}},{key:"getStage",value:function(t){var e=new a["default"](this),i=this.stages[t];for(var n in i)e[n]=i[n];return e}},{key:"loadEntity",value:function(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;i>r;r++)n[r-2]=arguments[r];var s=new(Function.prototype.bind.apply(u["default"],[null].concat([this,e],n))),o=this.entities[t];for(var a in o)s[a]=o[a];return s}}]),t}();e.exports=c},{"./Entity":2,"./Stage":5}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i,r,s,o){n(this,t),this.game=game,this.texture=new PIXI.Texture.fromImage(e),this.width=i,this.height=r,this.rows=s,this.cols=o,this.spriteWidth=this.width/o,this.spriteHeight=this.height/s,this.sprites=new Array(this.rows);for(var a=0;a<this.rows;a++){this.sprites[a]=new Array(this.cols);for(var h=0;h<this.cols;h++)this.sprites[a][h]=new PIXI.Texture(this.texture,new PIXI.Rectangle(h*this.spriteWidth,a*this.spriteHeight,this.spriteWidth,this.spriteHeight))}}return r(t,[{key:"getSprite",value:function(t,e){return 0>t||0>e||t>=this.rows||e>=this.cols?!1:this.sprites[t][e]}},{key:"getRow",value:function(t){return 0>t||t>=this.rows?!1:this.sprites[t]}}]),t}();e.exports=s},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function s(t){n(this,s),this.game=t,this.graphics=new PIXI.Container};e.exports=r},{}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("./core/Game"),s=n(r),o=t("./core/Stage"),a=n(o),h=t("./core/Entity"),u=n(h),c=t("./core/Spritesheet"),f=n(c),l=t("./core/Animation"),p=n(l),v=t("./utils/Vector2D"),y=n(v),g=t("./utils/HitBox"),d=n(g);ggf={},ggf.Game=s["default"],ggf.Stage=a["default"],ggf.Entity=u["default"],ggf.Spritesheet=f["default"],ggf.Animation=p["default"],ggf.Vector2D=y["default"],ggf.HitBox=d["default"]},{"./core/Animation":1,"./core/Entity":2,"./core/Game":3,"./core/Spritesheet":4,"./core/Stage":5,"./utils/HitBox":7,"./utils/Vector2D":8}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("./Vector2D"),a=n(o),h=function(){function t(e,i,n,s){r(this,t),this.width=e,this.height=i,this.position=new a["default"](n.x,n.y),this.rotation=s,this.vertexs=this.getVertexs(),this.axes=this.getAxes()}return s(t,[{key:"getVertexs",value:function(){var t=new a["default"](this.position.x-this.width/2,this.position.y-this.height/2),e=new a["default"](t.x+this.width,t.y),i=new a["default"](t.x+this.width,t.y+this.height),n=new a["default"](t.x,t.y+this.height),r=new Array(4);return r[0]=t.rotate(this.rotation,this.position),r[1]=e.rotate(this.rotation,this.position),r[2]=i.rotate(this.rotation,this.position),r[3]=n.rotate(this.rotation,this.position),r}},{key:"getAxes",value:function(){var t=new Array(2);return t[0]=new a["default"](this.vertexs[1].x,this.vertexs[1].y,this.vertexs[0].x,this.vertexs[0].y),t[1]=new a["default"](this.vertexs[2].x,this.vertexs[2].y,this.vertexs[1].x,this.vertexs[1].y),t}},{key:"moveVertexs",value:function(t){this.vertexs[0].x+=t.x,this.vertexs[0].y+=t.y,this.vertexs[1].x+=t.x,this.vertexs[1].y+=t.y,this.vertexs[2].x+=t.x,this.vertexs[2].y+=t.y,this.vertexs[3].x+=t.x,this.vertexs[3].y+=t.y}},{key:"projection",value:function(t){for(var e=this.vertexs[0].projection(t),i=e,n=1;n<this.vertexs.length;n++){var r=this.vertexs[n].projection(t);e>r?e=r:r>i&&(i=r)}return new u(e,i)}},{key:"overlap",value:function(t){for(var e=0;e<this.axes.length;e++){var i=this.axes[e],n=this.projection(i),r=t.projection(i);if(!n.overlap(r))return!1}for(var e=0;e<t.axes.length;e++){var i=t.axes[e],n=this.projection(i),r=t.projection(i);if(!n.overlap(r))return!1}return!0}},{key:"update",value:function(t,e){t=new a["default"](t.x,t.y),e!=this.rotation?(this.rotation=e,this.position=t,this.vertexs=this.getVertexs(),this.axes=this.getAxes()):t.equals(this.position)||(this.moveVertexs(new a["default"](t.x,t.y,this.position.x,this.position.y)),this.position=t)}}]),t}(),u=function(){function t(e,i){r(this,t),this.min=e,this.max=i}return s(t,[{key:"overlap",value:function(t){return this.max>t.min&&t.max>this.min}}]),t}();e.exports=h},{"./Vector2D":8}],8:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3];n(this,t),this.x=e-r,this.y=i-s}return r(t,[{key:"normal",value:function(){return new t(-this.y,this.x)}},{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"projection",value:function(t){var e=t.magnitude();return this.x*(t.x/e)+this.y*(t.y/e)}},{key:"rotate",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?new t(0,0):arguments[1],n=(this.x-i.x)*Math.cos(e)-(this.y-i.y)*Math.sin(e)+i.x,r=(this.x-i.x)*Math.sin(e)+(this.y-i.y)*Math.cos(e)+i.y;return new t(n,r)}},{key:"equals",value:function(t){return this.x==t.x&&this.y==t.y}}]),t}();e.exports=s},{}]},{},[6]);
//# sourceMappingURL=GGF.min.js.map
