<html>
 <head>
  <title> Test </title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 </head>
 <body>
	<div id="container"></div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/3.0.8/pixi.min.js"></script>
  <script type="text/javascript" src="../build/GGF.js"></script>
  <script type="text/javascript">
    var game = new ggf.Game('container', 960, 540, {fps:60,tps:60});
    game.createResource('Stage', 'main', {
      width: 960,
      height:540,
      init: function(){
        this.apple = this.game.getResource('Entity', 'apple', this);
        this.mario = this.game.getResource('Entity', 'mario', this);
        this.apple.init();
        this.mario.init();
        this.apple.spawn(100, 100);
        this.mario.spawn(400, 400);
      },
      update: function(){
        this.apple.update();
        this.mario.update();
      }
    });
    game.createResource('Entity', 'apple', {
      init: function(){
        this.spriteSheet = new ggf.Spritesheet('res/Apple.png',80, 40, 1, 2);
        this.animation = new ggf.Animation(this.spriteSheet.getRow(0), 30);
        this.animation.init();
        this.addChild(this.animation);
      },
      update: function(){
        this.animation.update();
      }
    });
    game.createResource('Entity', 'mario', {
      init: function(){
        this.spriteSheet = new ggf.Spritesheet('res/mario.png',180, 64, 1, 3);
        this.animation = new ggf.Animation(this.spriteSheet.getRow(0), 5);
        this.animation.init();
        this.addChild(this.animation);
      },
      update: function(){
        this.animation.update();
      }
    });
    main = game.getResource('Stage', 'main');
    game.loadStage(main);
    game.start();
  </script>
 </body>
</html>
